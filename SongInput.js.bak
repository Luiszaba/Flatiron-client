import React, { Component } from 'react';
import { addSong } from '../AddSong'
import uuid from 'uuid';
import { connect } from 'react-redux'

export class SongInput extends Component {
       
    state = {
        title: '',
        artist: '',
        genre: '',
        legnth: ''
    }
    

    handleOnChange = event => {
        this.setState({
            [event.target.name]: event.target.value
        });
    }

    handleOnSubmit = event => {
        event.preventDefault();
        const song = {...this.state, id:uuid()};
        this.props.addSong(song)
        this.setState({
            title: '',
            artist: '',
            genre: '',
            length: ''
        });
    }

    render() {
        return(
            <div className="form">
                <form onSubmit={(event) => this.handleOnSubmit(event)}>

                    <label htmlFor="song_title">Title:</label>
                    <input 
                    type="text"
                    name="title" 
                    value={this.state.title}
                    onChange={this.handleOnChange}
                    /><br />
                    
                    <label htmlFor="song_artist">Artist:</label>
                    <input 
                    type="text"
                    name="artist" 
                    value={this.state.artist}
                    onChange={this.handleOnChange}
                    />

                    <label htmlFor="song_genre">Genre:</label>
                    <input 
                    type="text"
                    name="genre" 
                    value={this.state.genre}
                    onChange={this.handleOnChange}
                    /><br />

                    <label htmlFor="song_length">Song Legnth:</label>
                    <input 
                    type="text"
                    name="legnth" 
                    value={this.state.legnth}
                    onChange={this.handleOnChange}
                    /><br />
                    <button>Add To Api</button>
                </form>
            </div>
        );
    }
};

export default connect(null, { addSong })(SongInput);



const Home = () => {
    return (
        <div>
            <h1>Final Project</h1>
        </div>
    )
}
const SongInput = () => {
    return(
    <div className="sidebar">
        <p>User Input</p>
          <SongInput />
      </div>
    )
}
const Songs = () => {
    return(
    <div className="main-content">
        <p>Songs</p>
          <Songs />
    </div>
    )
}
const Comments = () => {
    return(
    <div className="sidebar">
        <p>What others are saying</p>
          <Comments />
    </div>
    )
}
const CommentInput = () => {
    return(
    <div>
        <p>Speak your mind</p>
        <CommentInput />
    </div>
    )
}

